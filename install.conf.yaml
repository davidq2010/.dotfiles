- defaults:
    link:
      create: true
      relink: true

- clean:
    ~/:
      force: true
    ~/.config:
      recursive: true

- link:
    ~/:
      glob: true
      path: home/*
      prefix: "."
    ~/.config/nvim/:
      glob: true
      path: config/nvim/*
- shell:
    - [
        rm -rf ~/.tmux && git clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm,
        Installing TPM,
      ]
    - [
        rm -rf ~/.config/nvim && chmod u+x ./setup.sh && ./setup.sh,
        Installing Neovim binary dependencies,
      ]
    - [
        rm -rf ~/.local/share/nvim/site/pack/packer && git clone --depth 1 https://github.com/wbthomason/packer.nvim ~/.local/share/nvim/site/pack/packer/start/packer.nvim,
        Installing Packer,
      ]
    - [
        nvim --headless -c 'autocmd User PackerComplete quitall' -c 'PackerSync',
        Installing Neovim plugins,
      ]
    - [
        nvim --headless -c 'LspInstall',
        Installing language servers
      ]
